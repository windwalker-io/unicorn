{"version":3,"file":"checkboxes-multi-select.js","sources":["../../src/module/checkboxes-multi-select.ts"],"sourcesContent":["import { selectAll, selectOne } from '../service';\n\nexport class CheckboxesMultiSelect {\n  defaultOptions = {\n    duration: 100,\n    inputSelector: 'input[type=checkbox][data-role=grid-checkbox]'\n  }\n\n  $element: HTMLElement;\n  options: any;\n  boxes: HTMLInputElement[];\n  last: HTMLInputElement | false = false;\n\n  static handle(selector: any, options: any = {}) {\n    return selectAll(selector, (ele: any) => new this(ele, options));\n  }\n\n  constructor(selector: any, options = {}) {\n    this.$element = selectOne<HTMLElement>(selector)!;\n    this.options = Object.assign({}, this.defaultOptions, options);\n    this.boxes = Array.from(this.$element.querySelectorAll(this.options.inputSelector));\n    this.last = false;\n\n    selectAll(this.boxes, (box: HTMLInputElement) => {\n      box.addEventListener('click', (e: MouseEvent) => {\n        this.select(box, e);\n      });\n    });\n  }\n\n  select(box: HTMLInputElement, event: MouseEvent) {\n    if (!this.last) {\n      this.last = box;\n\n      return;\n    }\n\n    if (event.shiftKey) {\n      // @ts-ignore\n      const start = [].indexOf.call(this.boxes, box);\n\n      // @ts-ignore\n      const end = [].indexOf.call(this.boxes, this.last);\n\n      const chs = [].slice.call(this.boxes, Math.min(start, end), Math.max(start, end) + 1);\n\n      [].forEach.call(chs, (ele: HTMLInputElement, i) => {\n        ele.checked = (this.last as HTMLInputElement).checked;\n      });\n    }\n\n    this.last = box;\n  }\n}\n"],"names":[],"mappings":";AAEO,MAAM,sBAAsB;AAAA,EACjC,iBAAiB;AAAA,IACf,UAAU;AAAA,IACV,eAAe;AAAA,EAAA;AAAA,EAGjB;AAAA,EACA;AAAA,EACA;AAAA,EACA,OAAiC;AAAA,EAEjC,OAAO,OAAO,UAAe,UAAe,IAAI;AAC9C,WAAO,UAAU,UAAU,CAAC,QAAa,IAAI,KAAK,KAAK,OAAO,CAAC;AAAA,EACjE;AAAA,EAEA,YAAY,UAAe,UAAU,IAAI;AACvC,SAAK,WAAW,UAAuB,QAAQ;AAC/C,SAAK,UAAU,OAAO,OAAO,CAAA,GAAI,KAAK,gBAAgB,OAAO;AAC7D,SAAK,QAAQ,MAAM,KAAK,KAAK,SAAS,iBAAiB,KAAK,QAAQ,aAAa,CAAC;AAClF,SAAK,OAAO;AAEZ,cAAU,KAAK,OAAO,CAAC,QAA0B;AAC/C,UAAI,iBAAiB,SAAS,CAAC,MAAkB;AAC/C,aAAK,OAAO,KAAK,CAAC;AAAA,MACpB,CAAC;AAAA,IACH,CAAC;AAAA,EACH;AAAA,EAEA,OAAO,KAAuB,OAAmB;AAC/C,QAAI,CAAC,KAAK,MAAM;AACd,WAAK,OAAO;AAEZ;AAAA,IACF;AAEA,QAAI,MAAM,UAAU;AAElB,YAAM,QAAQ,CAAA,EAAG,QAAQ,KAAK,KAAK,OAAO,GAAG;AAG7C,YAAM,MAAM,CAAA,EAAG,QAAQ,KAAK,KAAK,OAAO,KAAK,IAAI;AAEjD,YAAM,MAAM,CAAA,EAAG,MAAM,KAAK,KAAK,OAAO,KAAK,IAAI,OAAO,GAAG,GAAG,KAAK,IAAI,OAAO,GAAG,IAAI,CAAC;AAEpF,OAAA,EAAG,QAAQ,KAAK,KAAK,CAAC,KAAuB,MAAM;AACjD,YAAI,UAAW,KAAK,KAA0B;AAAA,MAChD,CAAC;AAAA,IACH;AAEA,SAAK,OAAO;AAAA,EACd;AACF;"}