{"version":3,"file":"ui-bootstrap5.js","sources":["../../src/module/ui-bootstrap5.ts"],"sourcesContent":["import * as bootstrap from 'bootstrap';\nimport { Tooltip } from 'bootstrap';\nimport type { ButtonRadio, ButtonRadioModule, ButtonRadioOptions } from '../bootstrap/button-radio';\nimport type { KeepTab, KeepTabModule, KeepTabOptions } from '../bootstrap/keep-tab';\nimport { getBoundedInstanceList, html, selectAll, selectOne } from '../service';\nimport type { UIThemeInterface } from '../types';\n\nexport class UIBootstrap5 implements UIThemeInterface {\n  static instance: UIBootstrap5 | null = null;\n\n  bootstrap = bootstrap;\n\n  static get() {\n    return this.instance ??= new this();\n  }\n\n  renderMessage(messages: string | string[], type: string = 'info') {\n    if (!Array.isArray(messages)) {\n      messages = [messages];\n    }\n\n    let text = '';\n\n    messages.forEach((msg) => {\n      text += `<div class=\"\">${msg}</div>`;\n    });\n\n    const msgHtml = html(`<div class=\"alert alert-${type} alert-dismissible fade show\" role=\"alert\">\n  ${text}\n  <button type=\"button\" class=\"btn-close\" data-bs-dismiss=\"alert\" aria-label=\"Close\"></button>\n</div>`);\n\n    const container = selectOne('.c-messages-container');\n\n    if (container) {\n      container.appendChild(msgHtml);\n    }\n  }\n\n  clearMessages() {\n    const container = selectOne('.c-messages-container');\n\n    if (container) {\n      container.innerHTML = '';\n    }\n  }\n\n  async keepTab(): Promise<KeepTabModule>;\n  async keepTab(selector?: string | HTMLElement, options?: KeepTabOptions): Promise<KeepTab>;\n  async keepTab(selector?: string | HTMLElement, options: KeepTabOptions = {}): Promise<any> {\n    const module = await import('../bootstrap/keep-tab');\n\n    await module.ready;\n\n    if (selector) {\n      return new module.KeepTab(selector, options);\n    }\n\n    return module;\n  }\n\n  async buttonRadio(): Promise<ButtonRadioModule>;\n  async buttonRadio(selector?: string | HTMLElement, options?: ButtonRadioOptions): Promise<ButtonRadio>;\n  async buttonRadio(selector?: string | HTMLElement, options: ButtonRadioOptions = {}): Promise<any> {\n    const m = await import('../bootstrap/button-radio');\n\n    await m.ready;\n\n    if (selector) {\n      return m.ButtonRadio.handle(selector, options);\n    }\n\n    return m;\n  }\n\n  tooltip(\n    selector: NodeListOf<Element> | Element | string = '[data-bs-toggle=\"tooltip\"]',\n    config: Partial<Tooltip.Options> = {}\n  ): Tooltip[] {\n    return this.selectAsArray(selector)\n      .map((ele) => Tooltip.getOrCreateInstance(ele, config));\n  }\n\n  protected selectAsArray(selector: NodeListOf<Element> | Element | string) {\n    if (selector instanceof NodeList) {\n      return Array.from(selector);\n    } else if (typeof selector === 'string') {\n      return selectAll(selector);\n    } else {\n      return [selector];\n    }\n  }\n\n  getMajorVersion(module: any) {\n    return Number(module.VERSION.split('.').shift());\n  }\n\n  pushBootstrapToGlobal() {\n    window.bootstrap = bootstrap;\n  }\n}\n\ndeclare global {\n  export interface Window {\n    bootstrap: typeof bootstrap;\n  }\n}\n"],"names":[],"mappings":";;;AAOO,MAAM,aAAyC;AAAA,EACpD,OAAO,WAAgC;AAAA,EAEvC,YAAY;AAAA,EAEZ,OAAO,MAAM;AACX,WAAO,KAAK,aAAa,IAAI,KAAA;AAAA,EAC/B;AAAA,EAEA,cAAc,UAA6B,OAAe,QAAQ;AAChE,QAAI,CAAC,MAAM,QAAQ,QAAQ,GAAG;AAC5B,iBAAW,CAAC,QAAQ;AAAA,IACtB;AAEA,QAAI,OAAO;AAEX,aAAS,QAAQ,CAAC,QAAQ;AACxB,cAAQ,iBAAiB,GAAG;AAAA,IAC9B,CAAC;AAED,UAAM,UAAU,KAAK,2BAA2B,IAAI;AAAA,IACpD,IAAI;AAAA;AAAA,OAED;AAEH,UAAM,YAAY,UAAU,uBAAuB;AAEnD,QAAI,WAAW;AACb,gBAAU,YAAY,OAAO;AAAA,IAC/B;AAAA,EACF;AAAA,EAEA,gBAAgB;AACd,UAAM,YAAY,UAAU,uBAAuB;AAEnD,QAAI,WAAW;AACb,gBAAU,YAAY;AAAA,IACxB;AAAA,EACF;AAAA,EAIA,MAAM,QAAQ,UAAiC,UAA0B,IAAkB;AACzF,UAAM,SAAS,MAAM,OAAO,eAAuB;AAEnD,UAAM,OAAO;AAEb,QAAI,UAAU;AACZ,aAAO,IAAI,OAAO,QAAQ,UAAU,OAAO;AAAA,IAC7C;AAEA,WAAO;AAAA,EACT;AAAA,EAIA,MAAM,YAAY,UAAiC,UAA8B,IAAkB;AACjG,UAAM,IAAI,MAAM,OAAO,mBAA2B;AAElD,UAAM,EAAE;AAER,QAAI,UAAU;AACZ,aAAO,EAAE,YAAY,OAAO,UAAU,OAAO;AAAA,IAC/C;AAEA,WAAO;AAAA,EACT;AAAA,EAEA,QACE,WAAmD,8BACnD,SAAmC,CAAA,GACxB;AACX,WAAO,KAAK,cAAc,QAAQ,EAC/B,IAAI,CAAC,QAAQ,QAAQ,oBAAoB,KAAK,MAAM,CAAC;AAAA,EAC1D;AAAA,EAEU,cAAc,UAAkD;AACxE,QAAI,oBAAoB,UAAU;AAChC,aAAO,MAAM,KAAK,QAAQ;AAAA,IAC5B,WAAW,OAAO,aAAa,UAAU;AACvC,aAAO,UAAU,QAAQ;AAAA,IAC3B,OAAO;AACL,aAAO,CAAC,QAAQ;AAAA,IAClB;AAAA,EACF;AAAA,EAEA,gBAAgB,QAAa;AAC3B,WAAO,OAAO,OAAO,QAAQ,MAAM,GAAG,EAAE,OAAO;AAAA,EACjD;AAAA,EAEA,wBAAwB;AACtB,WAAO,YAAY;AAAA,EACrB;AACF;"}