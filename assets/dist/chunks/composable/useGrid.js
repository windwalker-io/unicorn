import { u as useFormAsync, a as useForm } from "./useForm.js";
import { s as selectOne, m as module } from "../service/dom.js";
let gridElement;
async function useGridAsync(ele, options = {}) {
  await useFormAsync();
  const { UnicornGridElement } = await import("../module/grid.js");
  gridElement ??= UnicornGridElement;
  if (!ele) {
    return null;
  }
  return useGrid(ele, options);
}
function useGrid(ele, options = {}) {
  const selector = typeof ele === "string" ? ele : "";
  const element = selectOne(ele);
  if (!element) {
    throw new Error("Element is empty");
  }
  const form = useForm(selector || element);
  if (!form) {
    throw new Error("UnicornGrid is depends on UnicornForm");
  }
  return module(
    element,
    "grid.plugin",
    () => new gridElement(selector, element, form, options)
  );
}
async function useGridComponent(ele, options = {}) {
  const grid = await useGridAsync(ele, options);
  await grid?.initComponent();
  return grid;
}
export {
  useGrid as a,
  useGridComponent as b,
  useGridAsync as u
};
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidXNlR3JpZC5qcyIsInNvdXJjZXMiOlsiLi4vLi4vLi4vc3JjL2NvbXBvc2FibGUvdXNlR3JpZC50cyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgdHlwZSB7IFVuaWNvcm5HcmlkRWxlbWVudCB9IGZyb20gJy4uL21vZHVsZS9ncmlkJztcclxuaW1wb3J0IHsgdXNlRm9ybSwgdXNlRm9ybUFzeW5jIH0gZnJvbSAnLi91c2VGb3JtJztcclxuaW1wb3J0IHsgc2VsZWN0T25lLCBtb2R1bGUgfSBmcm9tICcuLi9zZXJ2aWNlJztcclxuXHJcbmxldCBncmlkRWxlbWVudDogdHlwZW9mIFVuaWNvcm5HcmlkRWxlbWVudDtcclxuXHJcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiB1c2VHcmlkQXN5bmMoXHJcbiAgZWxlPzogc3RyaW5nIHwgSFRNTEVsZW1lbnQsXHJcbiAgb3B0aW9uczogUmVjb3JkPHN0cmluZywgYW55PiB8IHVuZGVmaW5lZCA9IHt9XHJcbik6IFByb21pc2U8VW5pY29ybkdyaWRFbGVtZW50IHwgbnVsbD4ge1xyXG4gIGF3YWl0IHVzZUZvcm1Bc3luYygpO1xyXG5cclxuICBjb25zdCB7IFVuaWNvcm5HcmlkRWxlbWVudCB9ID0gYXdhaXQgaW1wb3J0KCcuLi9tb2R1bGUvZ3JpZCcpO1xyXG5cclxuICBncmlkRWxlbWVudCA/Pz0gVW5pY29ybkdyaWRFbGVtZW50O1xyXG5cclxuICBpZiAoIWVsZSkge1xyXG4gICAgcmV0dXJuIG51bGw7XHJcbiAgfVxyXG5cclxuICByZXR1cm4gdXNlR3JpZChlbGUsIG9wdGlvbnMpO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gdXNlR3JpZChcclxuICBlbGU6IHN0cmluZyB8IEhUTUxFbGVtZW50LFxyXG4gIG9wdGlvbnM6IFJlY29yZDxzdHJpbmcsIGFueT4gfCB1bmRlZmluZWQgPSB7fVxyXG4pOiBVbmljb3JuR3JpZEVsZW1lbnQgfCBudWxsIHtcclxuICBjb25zdCBzZWxlY3RvciA9IHR5cGVvZiBlbGUgPT09ICdzdHJpbmcnID8gZWxlIDogJyc7XHJcbiAgY29uc3QgZWxlbWVudCA9IHNlbGVjdE9uZShlbGUpO1xyXG5cclxuICBpZiAoIWVsZW1lbnQpIHtcclxuICAgIHRocm93IG5ldyBFcnJvcignRWxlbWVudCBpcyBlbXB0eScpO1xyXG4gIH1cclxuXHJcbiAgY29uc3QgZm9ybSA9IHVzZUZvcm0oc2VsZWN0b3IgfHwgZWxlbWVudCk7XHJcblxyXG4gIGlmICghZm9ybSkge1xyXG4gICAgdGhyb3cgbmV3IEVycm9yKCdVbmljb3JuR3JpZCBpcyBkZXBlbmRzIG9uIFVuaWNvcm5Gb3JtJyk7XHJcbiAgfVxyXG5cclxuICByZXR1cm4gbW9kdWxlKFxyXG4gICAgZWxlbWVudCxcclxuICAgICdncmlkLnBsdWdpbicsXHJcbiAgICAoKSA9PiBuZXcgZ3JpZEVsZW1lbnQoc2VsZWN0b3IsIGVsZW1lbnQsIGZvcm0sIG9wdGlvbnMpXHJcbiAgKTtcclxufVxyXG5cclxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIHVzZUdyaWRDb21wb25lbnQoXHJcbiAgZWxlOiBzdHJpbmcgfCBIVE1MRWxlbWVudCxcclxuICBvcHRpb25zOiBSZWNvcmQ8c3RyaW5nLCBhbnk+IHwgdW5kZWZpbmVkID0ge31cclxuKTogUHJvbWlzZTxVbmljb3JuR3JpZEVsZW1lbnQgfCBudWxsPiB7XHJcbiAgY29uc3QgZ3JpZCA9IGF3YWl0IHVzZUdyaWRBc3luYyhlbGUsIG9wdGlvbnMpO1xyXG5cclxuICBhd2FpdCBncmlkPy5pbml0Q29tcG9uZW50KCk7XHJcblxyXG4gIHJldHVybiBncmlkO1xyXG59XHJcbiJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOztBQUlBLElBQUk7QUFFSixlQUFzQixhQUNwQixLQUNBLFVBQTJDLElBQ1A7QUFDcEMsUUFBTSxhQUFBO0FBRU4sUUFBTSxFQUFFLG1CQUFBLElBQXVCLE1BQU0sT0FBTyxtQkFBZ0I7QUFFNUQsa0JBQWdCO0FBRWhCLE1BQUksQ0FBQyxLQUFLO0FBQ1IsV0FBTztBQUFBLEVBQ1Q7QUFFQSxTQUFPLFFBQVEsS0FBSyxPQUFPO0FBQzdCO0FBRU8sU0FBUyxRQUNkLEtBQ0EsVUFBMkMsSUFDaEI7QUFDM0IsUUFBTSxXQUFXLE9BQU8sUUFBUSxXQUFXLE1BQU07QUFDakQsUUFBTSxVQUFVLFVBQVUsR0FBRztBQUU3QixNQUFJLENBQUMsU0FBUztBQUNaLFVBQU0sSUFBSSxNQUFNLGtCQUFrQjtBQUFBLEVBQ3BDO0FBRUEsUUFBTSxPQUFPLFFBQVEsWUFBWSxPQUFPO0FBRXhDLE1BQUksQ0FBQyxNQUFNO0FBQ1QsVUFBTSxJQUFJLE1BQU0sdUNBQXVDO0FBQUEsRUFDekQ7QUFFQSxTQUFPO0FBQUEsSUFDTDtBQUFBLElBQ0E7QUFBQSxJQUNBLE1BQU0sSUFBSSxZQUFZLFVBQVUsU0FBUyxNQUFNLE9BQU87QUFBQSxFQUFBO0FBRTFEO0FBRUEsZUFBc0IsaUJBQ3BCLEtBQ0EsVUFBMkMsSUFDUDtBQUNwQyxRQUFNLE9BQU8sTUFBTSxhQUFhLEtBQUssT0FBTztBQUU1QyxRQUFNLE1BQU0sY0FBQTtBQUVaLFNBQU87QUFDVDsifQ==
