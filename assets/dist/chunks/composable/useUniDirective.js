let instances = {};
async function useWebDirective(name = "unicorn", options = {}) {
  return instances[name] ??= await createWebDirective(Object.assign({}, options, { prefix: "uni-" }));
}
async function useUniDirective(name, handler, wdInstance = "unicorn") {
  const wd = typeof wdInstance === "string" ? await useWebDirective(wdInstance) : wdInstance;
  wd.register(name, handler);
}
async function createWebDirective(options = {}) {
  const WebDirective = (await import("web-directive")).default;
  const wd = new WebDirective(options);
  wd.listen();
  return wd;
}
export {
  useWebDirective as a,
  useUniDirective as u
};
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidXNlVW5pRGlyZWN0aXZlLmpzIiwic291cmNlcyI6WyIuLi8uLi8uLi9zcmMvY29tcG9zYWJsZS91c2VVbmlEaXJlY3RpdmUudHMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgRGljdGlvbmFyeSB9IGZyb20gJy4uL3R5cGVzJztcclxuaW1wb3J0IHR5cGUgeyBkZWZhdWx0IGFzIFdlYkRpcmVjdGl2ZSB9IGZyb20gJ3dlYi1kaXJlY3RpdmUnO1xyXG5pbXBvcnQgdHlwZSB7IFdlYkRpcmVjdGl2ZUhhbmRsZXIsIFdlYkRpcmVjdGl2ZU9wdGlvbnMgfSBmcm9tICd3ZWItZGlyZWN0aXZlL3NyYy90eXBlcyc7XHJcblxyXG5sZXQgaW5zdGFuY2VzOiBEaWN0aW9uYXJ5PFdlYkRpcmVjdGl2ZT4gPSB7fTtcclxuXHJcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiB1c2VXZWJEaXJlY3RpdmUoXHJcbiAgbmFtZTogc3RyaW5nID0gJ3VuaWNvcm4nLFxyXG4gIG9wdGlvbnM6IFBhcnRpYWw8V2ViRGlyZWN0aXZlT3B0aW9ucz4gPSB7fVxyXG4pOiBQcm9taXNlPFdlYkRpcmVjdGl2ZT4ge1xyXG4gIHJldHVybiBpbnN0YW5jZXNbbmFtZV0gPz89IGF3YWl0IGNyZWF0ZVdlYkRpcmVjdGl2ZShPYmplY3QuYXNzaWduKHt9LCBvcHRpb25zLCB7IHByZWZpeDogJ3VuaS0nIH0pKTtcclxufVxyXG5cclxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIHVzZVVuaURpcmVjdGl2ZTxUIGV4dGVuZHMgRWxlbWVudCA9IEhUTUxFbGVtZW50PihcclxuICBuYW1lOiBzdHJpbmcsXHJcbiAgaGFuZGxlcjogV2ViRGlyZWN0aXZlSGFuZGxlcjxUPixcclxuICB3ZEluc3RhbmNlOiBXZWJEaXJlY3RpdmUgfCBzdHJpbmcgPSAndW5pY29ybidcclxuKTogUHJvbWlzZTx2b2lkPiB7XHJcbiAgY29uc3Qgd2QgPSB0eXBlb2Ygd2RJbnN0YW5jZSA9PT0gJ3N0cmluZycgPyBhd2FpdCB1c2VXZWJEaXJlY3RpdmUod2RJbnN0YW5jZSkgOiB3ZEluc3RhbmNlO1xyXG5cclxuICAvLyBUb2RvOiBTaG91bGQgZml4IHdlYi1kaXJlY3RpdmUgdHlwZXNcclxuICB3ZC5yZWdpc3RlcihuYW1lLCBoYW5kbGVyIGFzIFdlYkRpcmVjdGl2ZUhhbmRsZXI8YW55Pik7XHJcbn1cclxuXHJcbmFzeW5jIGZ1bmN0aW9uIGNyZWF0ZVdlYkRpcmVjdGl2ZShvcHRpb25zOiBQYXJ0aWFsPFdlYkRpcmVjdGl2ZU9wdGlvbnM+ID0ge30pOiBQcm9taXNlPFdlYkRpcmVjdGl2ZT4ge1xyXG4gIGNvbnN0IFdlYkRpcmVjdGl2ZSA9IChhd2FpdCBpbXBvcnQoJ3dlYi1kaXJlY3RpdmUnKSkuZGVmYXVsdDtcclxuXHJcbiAgY29uc3Qgd2QgPSBuZXcgV2ViRGlyZWN0aXZlKG9wdGlvbnMpO1xyXG4gIHdkLmxpc3RlbigpO1xyXG5cclxuICByZXR1cm4gd2Q7XHJcbn1cclxuIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUlBLElBQUksWUFBc0MsQ0FBQTtBQUUxQyxlQUFzQixnQkFDcEIsT0FBZSxXQUNmLFVBQXdDLENBQUEsR0FDakI7QUFDdkIsU0FBTyxVQUFVLElBQUksTUFBTSxNQUFNLG1CQUFtQixPQUFPLE9BQU8sQ0FBQSxHQUFJLFNBQVMsRUFBRSxRQUFRLE9BQUEsQ0FBUSxDQUFDO0FBQ3BHO0FBRUEsZUFBc0IsZ0JBQ3BCLE1BQ0EsU0FDQSxhQUFvQyxXQUNyQjtBQUNmLFFBQU0sS0FBSyxPQUFPLGVBQWUsV0FBVyxNQUFNLGdCQUFnQixVQUFVLElBQUk7QUFHaEYsS0FBRyxTQUFTLE1BQU0sT0FBbUM7QUFDdkQ7QUFFQSxlQUFlLG1CQUFtQixVQUF3QyxJQUEyQjtBQUNuRyxRQUFNLGdCQUFnQixNQUFNLE9BQU8sZUFBZSxHQUFHO0FBRXJELFFBQU0sS0FBSyxJQUFJLGFBQWEsT0FBTztBQUNuQyxLQUFHLE9BQUE7QUFFSCxTQUFPO0FBQ1Q7In0=
